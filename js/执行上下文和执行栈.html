<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>执行上下文和执行栈</title>
</head>

<body>
    <script type="text/javascript">
        // 执行上下文：javascript对函数执行环境的抽象概念
        // 1.全局执行上下文：只有一个，就是浏览器中全局对象window，this指向window
        // 2.函数执行上下文：每次执行函数都会创建新的函数执行上下文，有无数个
        // 3.eval：指内部执行的代码
        //
        // 每次执行函数，都会创建一个执行上下文，创建一个私有作用域，内部的变量无法被当前函数作用域外部访问
        // 执行上下文的生命周期
        // 1.创建阶段
        //    1.1、确定this
        //    1.2、创建词法环境：es6中主要用来标记let、const的变量
        //    1.3、创建变量环境：es6中主要用来标记var的变量或者函数的参数
        //  词法环境：由全局环境和函数环境组成
        //       全局环境就是没有外部环境的词法环境，只有一个全局对象，即window，此时this指向window
        //       函数环境，用户定义的函数变量储存在函数环境中，包含arguments对象、外部环境的引用
        //
        // 2.执行阶段
        //    执行变量赋值，执行赋值
        // 3.回收阶段
        //    执行上下文出栈等待虚拟机回收


        // 执行栈：即调用栈，是用来储存执行代码期间创建的所有执行上下文，符合IFIO（后进先出）的结构
        // 当javascipt引擎开始执行第一行代码时，会创建一个全局执行上下文，压入执行栈底，当碰到函数时，会创建一个函数执行上下文，压入执行栈中
        // 执行栈顶的上下文，当函数执行完毕后，这个执行上下文会被弹出执行栈，开始执行下一个执行上下文

        // 因此可见js是同步的
    </script>
</body>

</html>